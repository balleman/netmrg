<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>Installation Procedure</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="The NetMRG Reference"
HREF="index.html"><LINK
REL="UP"
TITLE="Installation"
HREF="installation.html"><LINK
REL="PREVIOUS"
TITLE="Satisfying Requirements"
HREF="satisfyreq.html"><LINK
REL="NEXT"
TITLE="Upgrade Procedure"
HREF="upgrade.html"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><IMG
SRC="netmrg-logo-medium.png">The NetMRG Reference</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="satisfyreq.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="upgrade.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="INSTALL"
></A
>Chapter 8. Installation Procedure</H1
><P
></P
><OL
TYPE="1"
><LI
><P
>Untar to some directory like /tmp/ (it will untar into a 'netmrg' directory)</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>cd /tmp
wget http://www.netmrg.net/download/release/netmrg.tar.gz
tar xzvf netmrg.tar.gz</PRE
></TD
></TR
></TABLE
></LI
><LI
><P
>Now we need to compile and install the source. <B
CLASS="COMMAND"
>cd</B
> into the directory 
made by your <B
CLASS="COMMAND"
>tar</B
> command and type the following:
			</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>./configure
make
make install</PRE
></TD
></TR
></TABLE
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="90%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>If <B
CLASS="COMMAND"
>configure</B
> fails to locate the needed libraries they can be manually specified.  Run <B
CLASS="COMMAND"
>./configure -hr</B
> for details on the necessary options.</P
></TD
></TR
></TABLE
></DIV
></LI
><LI
><P
>Setup the database</P
><P
>Now we need to setup the database.  Please change at least the password 
(<SAMP
CLASS="COMPUTEROUTPUT"
>netmrgpass</SAMP
> below).
			</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>mysqladmin create netmrg
mysql -u root -p netmrg &#60; share/netmrg.mysql
mysql -u root -p
&#62; grant all on netmrg.* to netmrguser@localhost identified by 'netmrgpass';</PRE
></TD
></TR
></TABLE
></LI
><LI
><P
>You need to modify your apache config in order to make your NetMRG installation 
live (commonly in <SAMP
CLASS="COMPUTEROUTPUT"
>/etc/httpd/conf/httpd.conf</SAMP
>).
			</P
><P
>The first is to alias /netmrg to the installed web directory (commonly 
<SAMP
CLASS="COMPUTEROUTPUT"
>/usr/local/var/www/netmrg/webfiles</SAMP
>).
			</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>Alias /netmrg "/usr/local/var/www/netmrg/webfiles"</PRE
></TD
></TR
></TABLE
><P
>The easier way (if you're running Apache &#62;= 1.3) is to just Include the conf 
file we've created anywhere in your file (near the bottom is fine).
			</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>Include /usr/local/etc/netmrg.conf</PRE
></TD
></TR
></TABLE
><P
>You will need to restart your Apache after making config changes.  Telling it 
to reload its config should be good enough
			</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>killall -HUP httpd</PRE
></TD
></TR
></TABLE
></LI
><LI
><P
>Configure the Installation</P
><P
>All of NetMRG's common configuration options are controlled by an XML file,
normally located at <TT
CLASS="FILENAME"
>/usr/local/etc/netmrg.xml</TT
>.  You should
edit this file to make any necessary changes before continuing with installation.
			</P
><P
>For most installations, you will at least need to edit <TT
CLASS="FILENAME"
>netmrg.xml</TT
>
to reflect your database username and password.  
			</P
></LI
><LI
><P
>Setup Permissions</P
><P
>NetMRG does not need superuser permissions to run, therefore we will setup a user for it.
			</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
># useradd netmrg
# chown netmrg:netmrg /usr/local/var/log/netmrg
# chown netmrg:netmrg /usr/local/var/lib/netmrg/rrd</PRE
></TD
></TR
></TABLE
></LI
><LI
><P
>Setup crontab</P
><P
>You can setup the crontab entries in two places: either edit <TT
CLASS="FILENAME"
>/etc/crontab</TT
>,
or run <B
CLASS="COMMAND"
>crontab -e</B
> as the netmrg user. For 'crontab -e', use an 
entry similar to this:
			</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>su netmrg
*/5 * * * * /usr/local/bin/netmrg_cron.sh
exit</PRE
></TD
></TR
></TABLE
><P
>To edit the master crontab, edit <TT
CLASS="FILENAME"
>/etc/crontab</TT
> and add a line 
similar to this:
			</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>*/5 * * * * netmrg /usr/local/bin/netmrg_cron.sh</PRE
></TD
></TR
></TABLE
></LI
><LI
><P
>Point your web browser at your install, and start graphing things!  The default 
login is <KBD
CLASS="USERINPUT"
>admin</KBD
> and the default password is 
<KBD
CLASS="USERINPUT"
>nimda</KBD
>.  Point your web browser at the host you built 
this on (something similar to <SAMP
CLASS="COMPUTEROUTPUT"
>http://yourhost.com/netmrg/</SAMP
>) 
and please change your password!
			</P
></LI
></OL
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="satisfyreq.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="upgrade.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Satisfying Requirements</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="installation.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Upgrade Procedure</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>