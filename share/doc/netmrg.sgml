<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook V3.1//EN">
<book>
<bookinfo>
	<title>The NetMRG Reference</title>
	<authorgroup>
		<author>
			<firstname>Brady</firstname>
			<surname>Alleman</surname>	
		</author>
		<author>
			<firstname>Douglas</firstname>
			<othername>E.</othername>
			<surname>Warner</surname>
		</author>
	</authorgroup>
	<pubdate>2003</pubdate>
	<copyright>
		<year>2003</year>
		<holder>Brady Alleman and Douglas E. Warner</holder>
	</copyright>
	<legalnotice>
		<para>Our license for the document goes here. --FIXME--</para>
	</legalnotice>
</bookinfo>
<toc></toc>
<preface>
	<title>Introduction</title>
	<para>Welcome to NetMRG!  NetMRG is a database-driven network monitoring and graphing tool for use on Linux systems.  It offers an intuitive web-based configuration, customized monitoring capabilities for unusual situations, a fast multi-threaded polling application, and brilliant graphs rendered by <ulink url="http://www.rrdtool.org/"><Application>RRDTOOL</Application></ulink>.</para>
	<para>This document aims to guide you swiftly through the installation and configuration of NetMRG, as well as act as a reference for those with existing installations.  We hope that you find it useful.</para>
</preface>
<chapter>
	<title>System Structure</title>
	<para>NetMRG is a complex system of interconnected components.  They are:
		<itemizedlist>
			<listitem><para>Gatherer</para><para>The Gatherer is a multi-threaded C++ program that interacts with the Database and RRDTOOL to gather and store data.  The program is run by cron, or another scheduling system of your choice, on five minute intervals.</para></listitem>
			<listitem><para>Web Interface</para><para>The Web Interface consists of several PHP scripts, static HTML files and images, as well as CSS for formatting.  It interacts with the Database for the storage of configuration data and with RRDTOOL for the rendering of graphs for presentation.</para></listitem>
			<listitem><para>Database</para><para>The Database is a relational database running on <ulink url="http://www.mysql.com/"><application>MySQL</application></ulink>.  It is utilized by the Web Interface and the Gatherer.</para></listitem>
			<listitem><para>RRDTOOL</para><para><ulink url="http://www.rrdtool.org/"><application>RRDTOOL</application></ulink> is a graphing system based upon round-robin databases (RRDs).  It is used for both storing data into the databases and creating graphs using the databases.</para></listitem>
			<listitem><para>RRDs</para><para>RRDs are the round-robin databases used by RRDTOOL.  They are individual files that are writable by the Gatherer and readable by the Web Interface.</para></listitem>
		</itemizedlist>
	</para> 
</chapter>
<chapter>
	<title>Concepts</title>
	<section>
		<title>Overview</title>
		<para>This chapter will describe the conceptual layout of NetMRG.</para>
	</section>
	<section>
		<title>Groups</title>
		<para>Groups are organizational containers used in NetMRG.  They are capable of containing Devices, as well as having a View associated with them.  As they are strictly organizational, the Web Interface is the only component to utilize them.  They are ignored by the Gatherer.</para>
	</section>
	<section>
		<title>Devices</title>
		<para>Devices can be thought of as any physical device on your network that will be monitored.  They may also be used organizationally to group Monitors that are not associated directly to any physcial host.  Devices may have, but are not required to have, IP addresses, SNMP community strings, and so forth.  Data gathering for Devices may be explicitly disabled.  Devices contain Sub-Devices.</para>
	</section>
	<section>
		<title>Sub-Devices</title>
		<para>Sub-Devices are discrete entities on a Device.  Examples of these are network interfaces, disk drives, and so forth.  Sub-Devices may have parameters or variables associated with them for identification purposes.  For example, a web server has a network interface designated "eth0."  In NetMRG, the server would have a network interface Sub-Device which would have a variable of "ifDescr" set to "eth0."  Sub-Devices contain Monitors.</para>
	</section>
	<section>
		<title>Monitors</title>
		<para>Monitors represent discrete monitorable quantities.  The Gatherer performs the Monitor's Test upon the Monitor's Sub-Device.  The result is then stored in a RRD.  Monitors are also associated with Graph Items.  If NetMRG is being used to track events, a Monitor may also contain Events.</para>
	</section>
	<section>
		<title>Events</title>
		<para>Events contain a group of Conditions and Responses.  If the Conditions of an Event are met, the appropriate response is performed.</para>
	</section>
</chapter>
<appendix>
	<title>Database Structure</title>
	<para>NetMRG's database structure is wonderful...</para>
</appendix>


</book>
